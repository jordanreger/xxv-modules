<!DOCTYPE html>
<html lang="en">
  <head>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=5, shrink-to-fit=no"
    />
  </head>
  <body>
    <script>
      caches.open('mithril').then(cache => {
        cache.add(`/mithril.js`);
      })
    </script>
    <script src="/mithril.js"></script>
    <script>
      var root = document.body
      var count = 0

      var Hello = {
        view: function() {
          return m("main", [
            m("h1", {
              class: "title"
            }, "My first app"),
            m("button", {
              onclick: function() {count++}
            }, count + " clicks"),
          ])
        }
      }

      var Splash = {
        view: function() {
          return m("a", {
            href: "#!/hello"
          }, "Enter!")
        }
      }

      m.route(root, "/splash", {
        "/splash": Splash,
        "/hello": Hello,
      })
    </script>
  </body>
</html>
